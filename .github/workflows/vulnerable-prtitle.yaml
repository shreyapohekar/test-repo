name: vuln-pr-title

on:
  pull_request_target:
    types: [opened, synchronize, reopened]

permissions:
  contents: read
  # Note: in a real repo overly-broad permissions are a risk. This is a demo.
  id-token: write

jobs:
  demo:
    runs-on: ubuntu-latest
    steps:
      - name: Show job context (safe)
        run: |
          echo "This is a LAB demonstrating a risky workflow pattern."
          echo "bad code"
          echo ${{ github.event.pull_request.title }}
      - name: Checkout base (trusted)  # safe approach: checkout base if using pull_request_target
        uses: actions/checkout@v4
        with:
          repository: ${{ github.event.pull_request.base.repo.full_name }}
          ref: ${{ github.event.pull_request.base.ref }}
